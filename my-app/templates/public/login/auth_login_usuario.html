{% extends 'public/login/base_login.html' %}
{% block title %}Atención de quejas y reclamos{% endblock %}
{% block body %}

<div class="container-xxl registro">
  <div class="authentication-wrapper authentication-basic container-p-y">
    <div class="authentication-inner">
      <div class="card">
        <div class="card-body">

          <div class="text-center mb-4">
            <h2 class="text-3xl font-semibold text-[#002260] tracking-wide">Atención de quejas y reclamos</h2>
          </div>
          
          
          <!-- Logo -->
          <div class="app-brand justify-content-center">
            <span class="app-brand-logo">
              <img
                class="logo"
                src="{{ url_for('static', filename ='assets/img/logoMyM.png') }}"
                alt="Logo" />
            </span>
          </div>

          <form
            id="formAuthentication"
            class="mb-3"
            action="{{ url_for('loginCliente') }}"
            method="POST">
            
            <!-- Campo Usuario -->
            <div class="mb-3">
              <div class="input-group input-group-merge flex items-center bg-white p-2 rounded-md mb-2 border border-gray-200 focus-within:border-blue-400 focus-within:ring-2 focus-within:ring-blue-200 transition-all duration-200">
                <i class="fas fa-user text-blue-800 mr-2"></i>
                <input 
                  type="text" 
                  class="form-control border-0 flex-1 bg-transparent outline-none h-8"
                  name="user_mym"
                  placeholder="Usuario M&M"
                  autofocus
                  required />
              </div>
            </div>

            <!-- Campo Password -->
            <div class="mb-3 form-password-toggle">
              <div class="input-group input-group-merge flex items-center bg-white p-2 rounded-md border border-gray-200 focus-within:border-blue-400 focus-within:ring-2 focus-within:ring-blue-200 transition-all duration-200">
                <i class="fas fa-lock text-blue-800 mr-2"></i>
                <input 
                  id="passwordField"  
                  type="password" 
                  class="form-control border-0 flex-1 bg-transparent outline-none h-8"
                  name="pass_usermym"
                  placeholder="Contraseña"
                  aria-describedby="password"
                  required />
                <span id="togglePassword" class="input-group-text cursor-pointer border-0 bg-transparent h-8 flex items-center"> <!-- Aquí añadimos el id -->
                  <i class="bx bx-hide text-lg"></i>  <!-- Ícono inicial -->
                </span>
              </div>
              <div class="text-center mt-2">
                <a class="login-a" href="{{ url_for('cpanelRecoveryPassUser') }}">
                  <small>¿Olvidó su Clave?</small>
                </a>
              </div>
            </div>


            <!-- Campo Compañía -->
            <div class="mb-3">
                <div class="input-group input-group-merge" style="display: flex; align-items: center; background: white; border-radius: 4px; border: 1px solid #e0e0e0;">
                <span class="input-group-text" style="background: transparent; border: none; padding-left: 12px;">
                    <i class="fas fa-building" style="color: #002260;"></i>
                </span>
                <select 
                    class="form-select"
                    name="company"
                    required
                    style="border: none; flex-grow: 1; padding: 8px 12px; background: transparent; outline: none;">
                    <option value="" disabled selected>---------------- Compañía ----------------</option>
                    <option value="1">30 ANADI</option>
                    <option value="2">10 M&M REPUESTOS Y SERVICIOS S.A
                    </option>
                </select>
                <span class="input-group-text" style="background: transparent; border: none;">
                    <i class="fas fa-chevron-down" style="color: #696cff;"></i>
                </span>
                </div>
            </div>

            <!-- Botón Submit -->
            <div class="mb-3">
              <button class="btn btn-primary w-100" type="submit">
                Validar
              </button>
            </div>
          </form>

          <!-- Enlace crear cuenta -->
          <p class="text-center">
            <a href="./register-mym" class="p-et">
              <span>Crear mi cuenta</span>
            </a>
            <div class="text-center">
              <a href="{{ url_for('inicio') }}" class="d-flex align-items-center justify-content-center login-v" style="color: #707275;">
                <span class="login-content">
                  <i class="bx bx-chevron-left scaleX-n1-rtl bx-sm"></i>
                  volver
                </span>
              </a>
            </div>
          </p>

        </div>
      </div>
    </div>
  </div>
 
  <div class="text-center m-5">
    <p class="mt-8 text-xs" style="color: white; font-size: 2.5vh;">
      © 2025 M&M. Todos los derechos reservados.
    </p>
  </div>
</div>
<script>
  // Obtener el ícono y el campo de contraseña
  const togglePassword = document.getElementById('togglePassword');
  const passwordField = document.getElementById('passwordField');

  // Añadir un event listener al ícono para alternar la visibilidad
  togglePassword.addEventListener('click', function () {
    // Comprobar el tipo actual del campo de contraseña
    const type = passwordField.type === 'password' ? 'text' : 'password';
    passwordField.type = type;

    // Cambiar el ícono según el estado
    if (type === 'password') {
      togglePassword.innerHTML = '<i class="bx bx-hide"></i>';  // Ícono de ojo cerrado
    } else {
      togglePassword.innerHTML = '<i class="bx bx-show"></i>';  // Ícono de ojo abierto
    }
  });
</script>

{% endblock %}